# =====================================
# PlayerDataSync Configuration
# Compatible with Minecraft 1.8 - 1.21.11
# Some features require newer versions:
#   - Offhand sync: 1.9+
#   - Attribute sync: 1.9+
#   - Advancement sync: 1.12+
# =====================================

server:
  id: default              # Unique identifier for this server instance

database:
  type: mysql              # Available: mysql, sqlite, postgresql
  table_prefix: player_data

  mysql:
    host: localhost
    port: 3306
    database: minecraft
    user: root
    password: password
    ssl: false
    connection_timeout: 5000  # milliseconds
    max_connections: 10

  sqlite:
    file: plugins/PlayerDataSync/playerdata.db

  postgresql:               # experimental
    host: localhost
    port: 5432
    database: minecraft
    user: postgres
    password: password
    ssl: false

sync:
  # Basic Player Data
  coordinates: true
  position: true
  xp: true
  gamemode: true

  # Inventory & Equipment
  inventory: true
  enderchest: true
  armor: true
  offhand: true

  # Player Status
  health: true
  hunger: true
  effects: true

  # Progress & Achievements
  achievements: true
  statistics: true

  # Advanced Features
  attributes: true
  permissions: false       # requires LuckPerms
  economy: true            # requires Vault

autosave:
  enabled: true
  interval: 1              # seconds, 0 = disabled
  on_world_change: true
  on_death: true
  on_server_switch: true   # BungeeCord/Velocity
  on_kick: true
  async: true

data_management:
  cleanup:
    enabled: false
    days_inactive: 90
  backup:
    enabled: true
    interval: 1440         # minutes (1440 = daily)
    keep_backups: 7
  validation:
    enabled: true
    strict_mode: false

performance:
  batch_size: 50
  cache_size: 100
  cache_ttl: 300000         # ms (5 minutes)
  cache_compression: true
  connection_pooling: true
  async_loading: true
  disable_achievement_sync_on_large_amounts: true
  achievement_batch_size: 50
  achievement_timeout_ms: 5000
  max_achievements_per_player: 2000
  preload_advancements_on_startup: true
  advancement_import_batch_size: 250
  player_advancement_import_batch_size: 150
  automatic_player_advancement_import: true

compatibility:
  safe_attribute_sync: true
  disable_attributes_on_error: false
  version_check: true
  legacy_1_20_support: true
  modern_1_21_support: true
  disable_achievements_on_critical_error: true

security:
  encrypt_data: false
  hash_uuids: false
  audit_log: true

integrations:
  bungeecord: false
  luckperms: false
  vault: true
  placeholderapi: false
  invsee: true
  openinv: true

respawn_to_lobby:
  enabled: false
  server: lobby             # must match BungeeCord/Velocity server name

messages:
  enabled: true
  show_sync_messages: true
  language: en
  prefix: "&8[&bPDS&8]"
  colors: true

logging:
  level: INFO               # DEBUG, INFO, WARN, ERROR
  log_database: false
  log_performance: false
  debug_mode: false

update_checker:
  enabled: true
  notify_ops: true
  auto_download: false
  timeout: 10000

metrics:
  bstats: true
  custom_metrics: true
